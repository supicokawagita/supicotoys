<form id="dreamForm">
  <textarea id="dreamInput" placeholder="å¤¢ã‚’æ›¸ã„ã¦ã­" rows="5" required></textarea>
  <button type="submit">é€ä¿¡</button>
</form>
<div id="status"></div>

<script>
  const form = document.getElementById('dreamForm');
  form.addEventListener('submit', e => {
    e.preventDefault(); // é€ä¿¡æ™‚ã®ãƒšãƒ¼ã‚¸å†èª­ã¿è¾¼ã¿ã‚’é˜²æ­¢

    const dreamText = document.getElementById('dreamInput').value;

    fetch('https://script.google.com/macros/s/AKfycbyom8KEoa11bYz0rIDbBAS4JtD65THO6uqUX2tNV44Lr9alzjW6x000BqjEJ7rUA1UwSw/exec', {
      method: 'POST',
      body: JSON.stringify({ dream: dreamText }),
      headers: { 'Content-Type': 'application/json' }
    })
    .then(response => response.json())
    .then(data => {
      document.getElementById('status').textContent = 'å¤¢æ—¥è¨˜é€ä¿¡æˆåŠŸï¼ã‚ã‚ŠãŒã¨ã†ğŸ˜Š';
      form.reset();  // ãƒ•ã‚©ãƒ¼ãƒ ã®å…¥åŠ›æ¬„ã‚’ç©ºã«ã™ã‚‹
    })
    .catch(err => {
      document.getElementById('status').textContent = 'é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸâ€¦';
      console.error(err);
    });
  });
</script>
