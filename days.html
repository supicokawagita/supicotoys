<form id="dreamForm">
  <textarea id="dreamInput" placeholder="å¤¢ã‚’æ›¸ã„ã¦ã­" rows="5" required></textarea>
  <button type="submit">é€ä¿¡</button>
</form>
<div id="status"></div>

<script>
  const form = document.getElementById('dreamForm');
  const statusDiv = document.getElementById('status');

  form.addEventListener('submit', e => {
    e.preventDefault();

    const dreamText = document.getElementById('dreamInput').value;

    fetch('https://script.google.com/macros/s/AKfycbzMxk-Z0z8Y_zXU7c88-FRjqEPB5O8HdgqgIpKAWZwvXlFfYh1eOnGH2j_GbJ3edqSa_g/exec', {
      method: 'POST',
      mode: 'cors',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({ dream: dreamText }),
    })
      .then(response => response.json())
      .then(data => {
        if (data.status === 'success') {
          statusDiv.textContent = 'å¤¢æ—¥è¨˜é€ä¿¡æˆåŠŸï¼ã‚ã‚ŠãŒã¨ã†ğŸ˜Š';
          form.reset();
        } else {
          statusDiv.textContent = 'é€ä¿¡ã‚¨ãƒ©ãƒ¼ï¼ˆGASå´ï¼‰';
        }
      })
      .catch(error => {
        statusDiv.textContent = 'é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸâ€¦';
        console.error('Fetch error:', error);
      });
  });
</script>
