<form id="dreamForm">
  <textarea id="dreamInput" placeholder="å¤¢ã‚’æ›¸ã„ã¦ã­" rows="5" required></textarea>
  <button type="submit">é€ä¿¡</button>
</form>
<div id="status"></div>

<script>
  const form = document.getElementById('dreamForm');
  form.addEventListener('submit', e => {
    e.preventDefault();

    const dreamText = document.getElementById('dreamInput').value;
    const url = 'https://script.google.com/macros/s/AKfycbyjUjJAX_eXpkTSr_bwfyE7u-01khVYByzGzJ2GGhR_oIPl18UPEGJE0QySTgLdiDEYiA/exec?dream=' + encodeURIComponent(dreamText);

    // æ³¨æ„: textã¨ã—ã¦å—ã‘å–ã‚‹ï¼ˆâ† JSONã˜ã‚ƒãªã„ï¼ï¼‰
    fetch(url)
      .then(response => response.text())
      .then(data => {
        document.getElementById('status').textContent = 'å¤¢æ—¥è¨˜é€ä¿¡æˆåŠŸï¼ã‚ã‚ŠãŒã¨ã†ğŸ˜Š';
        form.reset();
      })
      .catch(err => {
        document.getElementById('status').textContent = 'é€ä¿¡ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸâ€¦';
        console.error(err);
      });
  });
</script>
